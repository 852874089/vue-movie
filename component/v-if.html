<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>vue的动态组件与v-once指令</title>
    <script src="../vue.js"></script>
</head>
<body>
    <p>v-once 将循环切换的两个组件存入缓存，因为v-if回重复创建再删除，性能不好</p>
    <div id="app">
        <component :is="type"></component>
       <!-- <child-one v-if="type === 'child-one'"></child-one>
        <child-two v-if="type ==='child-two'"></child-two>-->
        <button @click="handleBtnClick">change</button>
    </div>

    <script>
        Vue.component("child-one",{
            template:"<div v-once>child-one</div>"
        })

        Vue.component("child-two",{
            template:"<div v-once>child-two</div>"
        })

        var vm = new Vue({
            el:"#app",
            data:{
                type: 'child-one'
            },
            methods: {
                handleBtnClick: function () {
                    this.type = this.type === "child-one" ? "child-two":"child-one"
                }
            }
            })
    </script>
</body>
</html>